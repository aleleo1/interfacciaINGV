import{g as V,a as sn,i as tn,r as jn,t as Z,d as ge,s as L,c as me,u as We}from"./web.-tupIodf.js";import{S as Pt,r as Pe,R as ye,a as Ie,d as Oe,e as ze,C as Ee,b as It,c as Ot,f as qe,i as $t,g as zt,h as Et,j as Be,n as Vn,k as je,l as Ve,u as zn,B as Ze}from"./container.TZFl4UuM.js";import{c as kn,d as Xn,e as an,j as en,F as kt,S as Zn,o as de,p as Ge,q as En}from"./solid.yU6SITDZ.js";import"./store.Lik9hDZ8.js";function Gn(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Qe(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Ut(n){let t,e,r;n.length!==2?(t=Gn,e=(a,l)=>Gn(n(a),l),r=(a,l)=>n(a)-l):(t=n===Gn||n===Qe?n:Xe,e=n,r=n);function i(a,l,s=0,c=a.length){if(s<c){if(t(l,l)!==0)return c;do{const h=s+c>>>1;e(a[h],l)<0?s=h+1:c=h}while(s<c)}return s}function o(a,l,s=0,c=a.length){if(s<c){if(t(l,l)!==0)return c;do{const h=s+c>>>1;e(a[h],l)<=0?s=h+1:c=h}while(s<c)}return s}function u(a,l,s=0,c=a.length){const h=i(a,l,s,c-1);return h>s&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:u,right:o}}function Xe(){return 0}function Je(n){return n===null?NaN:+n}const Ke=Ut(Gn),nr=Ke.right;Ut(Je).center;const tr=nr;function er(n,t){let e,r;if(t===void 0)for(const i of n)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of n)(o=t(o,++i,n))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}const rr=Math.sqrt(50),ir=Math.sqrt(10),or=Math.sqrt(2);function Jn(n,t,e){const r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=rr?10:o>=ir?5:o>=or?2:1;let a,l,s;return i<0?(s=Math.pow(10,-i)/u,a=Math.round(n*s),l=Math.round(t*s),a/s<n&&++a,l/s>t&&--l,s=-s):(s=Math.pow(10,i)*u,a=Math.round(n/s),l=Math.round(t/s),a*s<n&&++a,l*s>t&&--l),l<a&&.5<=e&&e<2?Jn(n,t,e*2):[a,l,s]}function ur(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[i,o,u]=r?Jn(t,n,e):Jn(n,t,e);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(u<0)for(let s=0;s<a;++s)l[s]=(o-s)/-u;else for(let s=0;s<a;++s)l[s]=(o-s)*u;else if(u<0)for(let s=0;s<a;++s)l[s]=(i+s)/-u;else for(let s=0;s<a;++s)l[s]=(i+s)*u;return l}function Mt(n,t,e){return t=+t,n=+n,e=+e,Jn(n,t,e)[2]}function pt(n,t,e){t=+t,n=+n,e=+e;const r=t<n,i=r?Mt(t,n,e):Mt(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}function ar(n,t){let e;if(t===void 0)for(const r of n)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of n)(i=t(i,++r,n))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function sr(n){return n}var ct=1,ft=2,xt=3,Wn=4,qt=1e-6;function lr(n){return"translate("+n+",0)"}function cr(n){return"translate(0,"+n+")"}function fr(n){return t=>+n(t)}function hr(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function gr(){return!this.__axis}function ve(n,t){var e=[],r=null,i=null,o=6,u=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=n===ct||n===Wn?-1:1,c=n===Wn||n===ft?"x":"y",h=n===ct||n===xt?lr:cr;function f(g){var d=r??(t.ticks?t.ticks.apply(t,e):t.domain()),x=i??(t.tickFormat?t.tickFormat.apply(t,e):sr),U=Math.max(o,0)+a,w=t.range(),S=+w[0]+l,T=+w[w.length-1]+l,k=(t.bandwidth?hr:fr)(t.copy(),l),$=g.selection?g.selection():g,y=$.selectAll(".domain").data([null]),C=$.selectAll(".tick").data(d,t).order(),O=C.exit(),z=C.enter().append("g").attr("class","tick"),I=C.select("line"),_=C.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(z),I=I.merge(z.append("line").attr("stroke","currentColor").attr(c+"2",s*o)),_=_.merge(z.append("text").attr("fill","currentColor").attr(c,s*U).attr("dy",n===ct?"0em":n===xt?"0.71em":"0.32em")),g!==$&&(y=y.transition(g),C=C.transition(g),I=I.transition(g),_=_.transition(g),O=O.transition(g).attr("opacity",qt).attr("transform",function(p){return isFinite(p=k(p))?h(p+l):this.getAttribute("transform")}),z.attr("opacity",qt).attr("transform",function(p){var v=this.parentNode.__axis;return h((v&&isFinite(v=v(p))?v:k(p))+l)})),O.remove(),y.attr("d",n===Wn||n===ft?u?"M"+s*u+","+S+"H"+l+"V"+T+"H"+s*u:"M"+l+","+S+"V"+T:u?"M"+S+","+s*u+"V"+l+"H"+T+"V"+s*u:"M"+S+","+l+"H"+T),C.attr("opacity",1).attr("transform",function(p){return h(k(p)+l)}),I.attr(c+"2",s*o),_.attr(c,s*U).text(x),$.filter(gr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===ft?"start":n===Wn?"end":"middle"),$.each(function(){this.__axis=k})}return f.scale=function(g){return arguments.length?(t=g,f):t},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(g){return arguments.length?(e=g==null?[]:Array.from(g),f):e.slice()},f.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),f):r&&r.slice()},f.tickFormat=function(g){return arguments.length?(i=g,f):i},f.tickSize=function(g){return arguments.length?(o=u=+g,f):o},f.tickSizeInner=function(g){return arguments.length?(o=+g,f):o},f.tickSizeOuter=function(g){return arguments.length?(u=+g,f):u},f.tickPadding=function(g){return arguments.length?(a=+g,f):a},f.offset=function(g){return arguments.length?(l=+g,f):l},f}function $e(n){return ve(xt,n)}function wt(n){return ve(Wn,n)}function _t(n){return typeof n=="string"?new Pt([[document.querySelector(n)]],[document.documentElement]):new Pt([[n]],Pe)}const mr=Math.PI/180,yr=180/Math.PI;var Me=-.14861,bt=1.78277,Dt=-.29227,ut=-.90649,Pn=1.97294,Bt=Pn*ut,jt=Pn*bt,Vt=bt*Dt-ut*Me;function dr(n){if(n instanceof pn)return new pn(n.h,n.s,n.l,n.opacity);n instanceof ye||(n=Ie(n));var t=n.r/255,e=n.g/255,r=n.b/255,i=(Vt*r+Bt*t-jt*e)/(Vt+Bt-jt),o=r-i,u=(Pn*(e-i)-Dt*o)/ut,a=Math.sqrt(u*u+o*o)/(Pn*i*(1-i)),l=a?Math.atan2(u,o)*yr-120:NaN;return new pn(l<0?l+360:l,a,i,n.opacity)}function yn(n,t,e,r){return arguments.length===1?dr(n):new pn(n,t,e,r??1)}function pn(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}Oe(pn,yn,ze(Ee,{brighter(n){return n=n==null?It:Math.pow(It,n),new pn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ot:Math.pow(Ot,n),new pn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*mr,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),i=Math.sin(n);return new ye(255*(t+e*(Me*r+bt*i)),255*(t+e*(Dt*r+ut*i)),255*(t+e*(Pn*r)),this.opacity)}}));function vr(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=n[i]*(1-o)+t[i]*o;return r}}function $r(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Mr(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),u;for(u=0;u<r;++u)i[u]=at(n[u],t[u]);for(;u<e;++u)o[u]=t[u];return function(a){for(u=0;u<r;++u)o[u]=i[u](a);return o}}function pr(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function xr(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=at(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}function at(n,t){var e=typeof t,r;return t==null||e==="boolean"?qe(t):(e==="number"?$t:e==="string"?(r=zt(t))?(t=r,Et):Be:t instanceof zt?Et:t instanceof Date?pr:$r(t)?vr:Array.isArray(t)?Mr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xr:$t)(n,t)}function pe(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function xe(n){return function t(e){e=+e;function r(i,o){var u=n((i=yn(i)).h,(o=yn(o)).h),a=Vn(i.s,o.s),l=Vn(i.l,o.l),s=Vn(i.opacity,o.opacity);return function(c){return i.h=u(c),i.s=a(c),i.l=l(Math.pow(c,e)),i.opacity=s(c),i+""}}return r.gamma=t,r}(1)}xe(je);var we=xe(Vn);const Tt=Math.PI,Ct=2*Tt,Mn=1e-6,wr=Ct-Mn;function _e(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function _r(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return _e;const e=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Tr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_e:_r(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,i){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,e,r,i,o,u){this._append`C${+t},${+e},${+r},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(t,e,r,i,o){if(t=+t,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,a=this._y1,l=r-t,s=i-e,c=u-t,h=a-e,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(f>Mn)if(!(Math.abs(h*l-s*c)>Mn)||!o)this._append`L${this._x1=t},${this._y1=e}`;else{let g=r-u,d=i-a,x=l*l+s*s,U=g*g+d*d,w=Math.sqrt(x),S=Math.sqrt(f),T=o*Math.tan((Tt-Math.acos((x+f-U)/(2*w*S)))/2),k=T/S,$=T/w;Math.abs(k-1)>Mn&&this._append`L${t+k*c},${e+k*h}`,this._append`A${o},${o},0,0,${+(h*g>c*d)},${this._x1=t+$*l},${this._y1=e+$*s}`}}arc(t,e,r,i,o,u){if(t=+t,e=+e,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),s=t+a,c=e+l,h=1^u,f=u?i-o:o-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>Mn||Math.abs(this._y1-c)>Mn)&&this._append`L${s},${c}`,r&&(f<0&&(f=f%Ct+Ct),f>wr?this._append`A${r},${r},0,1,${h},${t-a},${e-l}A${r},${r},0,1,${h},${this._x1=s},${this._y1=c}`:f>Mn&&this._append`A${r},${r},0,${+(f>=Tt)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(t,e,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Cr(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Kn(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function Un(n){return n=Kn(Math.abs(n)),n?n[1]:NaN}function Sr(n,t){return function(e,r){for(var i=e.length,o=[],u=0,a=n[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(t)}}function kr(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var Ur=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nt(n){if(!(t=Ur.exec(n)))throw new Error("invalid format: "+n);var t;return new At({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nt.prototype=At.prototype;function At(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}At.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function br(n){n:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Te;function Dr(n,t){var e=Kn(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(Te=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Kn(n,Math.max(0,t+o-1))[0]}function Zt(n,t){var e=Kn(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Gt={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Cr,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Zt(n*100,t),r:Zt,s:Dr,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Qt(n){return n}var Xt=Array.prototype.map,Jt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ar(n){var t=n.grouping===void 0||n.thousands===void 0?Qt:Sr(Xt.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?Qt:kr(Xt.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"−":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function s(h){h=nt(h);var f=h.fill,g=h.align,d=h.sign,x=h.symbol,U=h.zero,w=h.width,S=h.comma,T=h.precision,k=h.trim,$=h.type;$==="n"?(S=!0,$="g"):Gt[$]||(T===void 0&&(T=12),k=!0,$="g"),(U||f==="0"&&g==="=")&&(U=!0,f="0",g="=");var y=x==="$"?e:x==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",C=x==="$"?r:/[%p]/.test($)?u:"",O=Gt[$],z=/[defgprs%]/.test($);T=T===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function I(_){var p=y,v=C,b,A,D;if($==="c")v=O(_)+v,_="";else{_=+_;var P=_<0||1/_<0;if(_=isNaN(_)?l:O(Math.abs(_),T),k&&(_=br(_)),P&&+_==0&&d!=="+"&&(P=!1),p=(P?d==="("?d:a:d==="-"||d==="("?"":d)+p,v=($==="s"?Jt[8+Te/3]:"")+v+(P&&d==="("?")":""),z){for(b=-1,A=_.length;++b<A;)if(D=_.charCodeAt(b),48>D||D>57){v=(D===46?i+_.slice(b+1):_.slice(b))+v,_=_.slice(0,b);break}}}S&&!U&&(_=t(_,1/0));var W=p.length+_.length+v.length,H=W<w?new Array(w-W+1).join(f):"";switch(S&&U&&(_=t(H+_,H.length?w-v.length:1/0),H=""),g){case"<":_=p+_+v+H;break;case"=":_=p+H+_+v;break;case"^":_=H.slice(0,W=H.length>>1)+p+_+v+H.slice(W);break;default:_=H+p+_+v;break}return o(_)}return I.toString=function(){return h+""},I}function c(h,f){var g=s((h=nt(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(Un(f)/3)))*3,x=Math.pow(10,-d),U=Jt[8+d/3];return function(w){return g(x*w)+U}}return{format:s,formatPrefix:c}}var qn,Ce,Se;Fr({thousands:",",grouping:[3],currency:["$",""]});function Fr(n){return qn=Ar(n),Ce=qn.format,Se=qn.formatPrefix,qn}function Nr(n){return Math.max(0,-Un(Math.abs(n)))}function Yr(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Un(t)/3)))*3-Un(Math.abs(n)))}function Hr(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Un(t)-Un(n))+1}function ke(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Lr(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function Rr(n){return function(){return n}}function Wr(n){return+n}var Kt=[0,1];function mn(n){return n}function St(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Rr(isNaN(t)?NaN:.5)}function Pr(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function Ir(n,t,e){var r=n[0],i=n[1],o=t[0],u=t[1];return i<r?(r=St(i,r),o=e(u,o)):(r=St(r,i),o=e(o,u)),function(a){return o(r(a))}}function Or(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),u=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=St(n[u],n[u+1]),o[u]=e(t[u],t[u+1]);return function(a){var l=tr(n,a,1,r)-1;return o[l](i[l](a))}}function Ue(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function zr(){var n=Kt,t=Kt,e=at,r,i,o,u=mn,a,l,s;function c(){var f=Math.min(n.length,t.length);return u!==mn&&(u=Pr(n[0],n[f-1])),a=f>2?Or:Ir,l=s=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=a(n.map(r),t,e)))(r(u(f)))}return h.invert=function(f){return u(i((s||(s=a(t,n.map(r),$t)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,Wr),c()):n.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),e=pe,c()},h.clamp=function(f){return arguments.length?(u=f?!0:mn,c()):u!==mn},h.interpolate=function(f){return arguments.length?(e=f,c()):e},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,g){return r=f,i=g,c()}}function be(){return zr()(mn,mn)}function Er(n,t,e,r){var i=pt(n,t,e),o;switch(r=nt(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=Yr(i,u))&&(r.precision=o),Se(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Hr(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Nr(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ce(r)}function De(n){var t=n.domain;return n.ticks=function(e){var r=t();return ur(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return Er(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,o=r.length-1,u=r[i],a=r[o],l,s,c=10;for(a<u&&(s=u,u=a,a=s,s=i,i=o,o=s);c-- >0;){if(s=Mt(u,a,e),s===l)return r[i]=u,r[o]=a,t(r);if(s>0)u=Math.floor(u/s)*s,a=Math.ceil(a/s)*s;else if(s<0)u=Math.ceil(u*s)/s,a=Math.floor(a*s)/s;else break;l=s}return n},n}function tt(){var n=be();return n.copy=function(){return Ue(n,tt())},ke.apply(n,arguments),De(n)}function qr(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],o=n[r],u;return o<i&&(u=e,e=r,r=u,u=i,i=o,o=u),n[e]=t.floor(i),n[r]=t.ceil(o),n}const ht=new Date,gt=new Date;function E(n,t,e,r){function i(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(n(o=new Date(+o)),o),i.ceil=o=>(n(o=new Date(o-1)),t(o,1),n(o),o),i.round=o=>{const u=i(o),a=i.ceil(o);return o-u<a-o?u:a},i.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),i.range=(o,u,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<u)||!(a>0))return l;let s;do l.push(s=new Date(+o)),t(o,a),n(o);while(s<o&&o<u);return l},i.filter=o=>E(u=>{if(u>=u)for(;n(u),!o(u);)u.setTime(u-1)},(u,a)=>{if(u>=u)if(a<0)for(;++a<=0;)for(;t(u,-1),!o(u););else for(;--a>=0;)for(;t(u,1),!o(u););}),e&&(i.count=(o,u)=>(ht.setTime(+o),gt.setTime(+u),n(ht),n(gt),Math.floor(e(ht,gt))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?u=>r(u)%o===0:u=>i.count(0,u)%o===0):i)),i}const et=E(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);et.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?E(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):et);et.range;const cn=1e3,rn=cn*60,fn=rn*60,hn=fn*24,Ft=hn*7,ne=hn*30,mt=hn*365,Cn=E(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*cn)},(n,t)=>(t-n)/cn,n=>n.getUTCSeconds());Cn.range;const Nt=E(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*cn)},(n,t)=>{n.setTime(+n+t*rn)},(n,t)=>(t-n)/rn,n=>n.getMinutes());Nt.range;const Br=E(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*rn)},(n,t)=>(t-n)/rn,n=>n.getUTCMinutes());Br.range;const Yt=E(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*cn-n.getMinutes()*rn)},(n,t)=>{n.setTime(+n+t*fn)},(n,t)=>(t-n)/fn,n=>n.getHours());Yt.range;const jr=E(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*fn)},(n,t)=>(t-n)/fn,n=>n.getUTCHours());jr.range;const On=E(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*rn)/hn,n=>n.getDate()-1);On.range;const Ht=E(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/hn,n=>n.getUTCDate()-1);Ht.range;const Vr=E(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/hn,n=>Math.floor(n/hn));Vr.range;function wn(n){return E(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rn)/Ft)}const st=wn(0),rt=wn(1),Zr=wn(2),Gr=wn(3),bn=wn(4),Qr=wn(5),Xr=wn(6);st.range;rt.range;Zr.range;Gr.range;bn.range;Qr.range;Xr.range;function _n(n){return E(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/Ft)}const Ae=_n(0),it=_n(1),Jr=_n(2),Kr=_n(3),Dn=_n(4),ni=_n(5),ti=_n(6);Ae.range;it.range;Jr.range;Kr.range;Dn.range;ni.range;ti.range;const lt=E(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());lt.range;const ei=E(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());ei.range;const ln=E(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());ln.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:E(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});ln.range;const xn=E(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());xn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:E(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});xn.range;function ri(n,t,e,r,i,o){const u=[[Cn,1,cn],[Cn,5,5*cn],[Cn,15,15*cn],[Cn,30,30*cn],[o,1,rn],[o,5,5*rn],[o,15,15*rn],[o,30,30*rn],[i,1,fn],[i,3,3*fn],[i,6,6*fn],[i,12,12*fn],[r,1,hn],[r,2,2*hn],[e,1,Ft],[t,1,ne],[t,3,3*ne],[n,1,mt]];function a(s,c,h){const f=c<s;f&&([s,c]=[c,s]);const g=h&&typeof h.range=="function"?h:l(s,c,h),d=g?g.range(s,+c+1):[];return f?d.reverse():d}function l(s,c,h){const f=Math.abs(c-s)/h,g=Ut(([,,U])=>U).right(u,f);if(g===u.length)return n.every(pt(s/mt,c/mt,h));if(g===0)return et.every(Math.max(pt(s,c,h),1));const[d,x]=u[f/u[g-1][2]<u[g][2]/f?g-1:g];return d.every(x)}return[a,l]}const[ii,oi]=ri(ln,lt,st,On,Yt,Nt);function yt(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function dt(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Hn(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function ui(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,o=n.days,u=n.shortDays,a=n.months,l=n.shortMonths,s=Ln(i),c=Rn(i),h=Ln(o),f=Rn(o),g=Ln(u),d=Rn(u),x=Ln(a),U=Rn(a),w=Ln(l),S=Rn(l),T={a:P,A:W,b:H,B:G,c:null,d:ue,e:ue,f:bi,g:Pi,G:Oi,H:Si,I:ki,j:Ui,L:Fe,m:Di,M:Ai,p:J,q:gn,Q:le,s:ce,S:Fi,u:Ni,U:Yi,V:Hi,w:Li,W:Ri,x:null,X:null,y:Wi,Y:Ii,Z:zi,"%":se},k={a:dn,A:An,b:on,B:Fn,c:null,d:ae,e:ae,f:ji,g:eo,G:io,H:Ei,I:qi,j:Bi,L:Ye,m:Vi,M:Zi,p:Nn,q:Yn,Q:le,s:ce,S:Gi,u:Qi,U:Xi,V:Ji,w:Ki,W:no,x:null,X:null,y:to,Y:ro,Z:oo,"%":se},$={a:I,A:_,b:p,B:v,c:b,d:ie,e:ie,f:wi,g:re,G:ee,H:oe,I:oe,j:$i,L:xi,m:vi,M:Mi,p:z,q:di,Q:Ti,s:Ci,S:pi,u:fi,U:hi,V:gi,w:ci,W:mi,x:A,X:D,y:re,Y:ee,Z:yi,"%":_i};T.x=y(e,T),T.X=y(r,T),T.c=y(t,T),k.x=y(e,k),k.X=y(r,k),k.c=y(t,k);function y(M,F){return function(N){var m=[],Q=-1,R=0,K=M.length,nn,vn,Wt;for(N instanceof Date||(N=new Date(+N));++Q<K;)M.charCodeAt(Q)===37&&(m.push(M.slice(R,Q)),(vn=te[nn=M.charAt(++Q)])!=null?nn=M.charAt(++Q):vn=nn==="e"?" ":"0",(Wt=F[nn])&&(nn=Wt(N,vn)),m.push(nn),R=Q+1);return m.push(M.slice(R,Q)),m.join("")}}function C(M,F){return function(N){var m=Hn(1900,void 0,1),Q=O(m,M,N+="",0),R,K;if(Q!=N.length)return null;if("Q"in m)return new Date(m.Q);if("s"in m)return new Date(m.s*1e3+("L"in m?m.L:0));if(F&&!("Z"in m)&&(m.Z=0),"p"in m&&(m.H=m.H%12+m.p*12),m.m===void 0&&(m.m="q"in m?m.q:0),"V"in m){if(m.V<1||m.V>53)return null;"w"in m||(m.w=1),"Z"in m?(R=dt(Hn(m.y,0,1)),K=R.getUTCDay(),R=K>4||K===0?it.ceil(R):it(R),R=Ht.offset(R,(m.V-1)*7),m.y=R.getUTCFullYear(),m.m=R.getUTCMonth(),m.d=R.getUTCDate()+(m.w+6)%7):(R=yt(Hn(m.y,0,1)),K=R.getDay(),R=K>4||K===0?rt.ceil(R):rt(R),R=On.offset(R,(m.V-1)*7),m.y=R.getFullYear(),m.m=R.getMonth(),m.d=R.getDate()+(m.w+6)%7)}else("W"in m||"U"in m)&&("w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),K="Z"in m?dt(Hn(m.y,0,1)).getUTCDay():yt(Hn(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+m.W*7-(K+5)%7:m.w+m.U*7-(K+6)%7);return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,dt(m)):yt(m)}}function O(M,F,N,m){for(var Q=0,R=F.length,K=N.length,nn,vn;Q<R;){if(m>=K)return-1;if(nn=F.charCodeAt(Q++),nn===37){if(nn=F.charAt(Q++),vn=$[nn in te?F.charAt(Q++):nn],!vn||(m=vn(M,N,m))<0)return-1}else if(nn!=N.charCodeAt(m++))return-1}return m}function z(M,F,N){var m=s.exec(F.slice(N));return m?(M.p=c.get(m[0].toLowerCase()),N+m[0].length):-1}function I(M,F,N){var m=g.exec(F.slice(N));return m?(M.w=d.get(m[0].toLowerCase()),N+m[0].length):-1}function _(M,F,N){var m=h.exec(F.slice(N));return m?(M.w=f.get(m[0].toLowerCase()),N+m[0].length):-1}function p(M,F,N){var m=w.exec(F.slice(N));return m?(M.m=S.get(m[0].toLowerCase()),N+m[0].length):-1}function v(M,F,N){var m=x.exec(F.slice(N));return m?(M.m=U.get(m[0].toLowerCase()),N+m[0].length):-1}function b(M,F,N){return O(M,t,F,N)}function A(M,F,N){return O(M,e,F,N)}function D(M,F,N){return O(M,r,F,N)}function P(M){return u[M.getDay()]}function W(M){return o[M.getDay()]}function H(M){return l[M.getMonth()]}function G(M){return a[M.getMonth()]}function J(M){return i[+(M.getHours()>=12)]}function gn(M){return 1+~~(M.getMonth()/3)}function dn(M){return u[M.getUTCDay()]}function An(M){return o[M.getUTCDay()]}function on(M){return l[M.getUTCMonth()]}function Fn(M){return a[M.getUTCMonth()]}function Nn(M){return i[+(M.getUTCHours()>=12)]}function Yn(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var F=y(M+="",T);return F.toString=function(){return M},F},parse:function(M){var F=C(M+="",!1);return F.toString=function(){return M},F},utcFormat:function(M){var F=y(M+="",k);return F.toString=function(){return M},F},utcParse:function(M){var F=C(M+="",!0);return F.toString=function(){return M},F}}}var te={"-":"",_:" ",0:"0"},q=/^\s*\d+/,ai=/^%/,si=/[\\^$*+?|[\]().{}]/g;function Y(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(t)+i:i)}function li(n){return n.replace(si,"\\$&")}function Ln(n){return new RegExp("^(?:"+n.map(li).join("|")+")","i")}function Rn(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function ci(n,t,e){var r=q.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function fi(n,t,e){var r=q.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function hi(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function gi(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function mi(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function ee(n,t,e){var r=q.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function re(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function yi(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function di(n,t,e){var r=q.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function vi(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function ie(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function $i(n,t,e){var r=q.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function oe(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Mi(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function pi(n,t,e){var r=q.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function xi(n,t,e){var r=q.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function wi(n,t,e){var r=q.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function _i(n,t,e){var r=ai.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Ti(n,t,e){var r=q.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function Ci(n,t,e){var r=q.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function ue(n,t){return Y(n.getDate(),t,2)}function Si(n,t){return Y(n.getHours(),t,2)}function ki(n,t){return Y(n.getHours()%12||12,t,2)}function Ui(n,t){return Y(1+On.count(ln(n),n),t,3)}function Fe(n,t){return Y(n.getMilliseconds(),t,3)}function bi(n,t){return Fe(n,t)+"000"}function Di(n,t){return Y(n.getMonth()+1,t,2)}function Ai(n,t){return Y(n.getMinutes(),t,2)}function Fi(n,t){return Y(n.getSeconds(),t,2)}function Ni(n){var t=n.getDay();return t===0?7:t}function Yi(n,t){return Y(st.count(ln(n)-1,n),t,2)}function Ne(n){var t=n.getDay();return t>=4||t===0?bn(n):bn.ceil(n)}function Hi(n,t){return n=Ne(n),Y(bn.count(ln(n),n)+(ln(n).getDay()===4),t,2)}function Li(n){return n.getDay()}function Ri(n,t){return Y(rt.count(ln(n)-1,n),t,2)}function Wi(n,t){return Y(n.getFullYear()%100,t,2)}function Pi(n,t){return n=Ne(n),Y(n.getFullYear()%100,t,2)}function Ii(n,t){return Y(n.getFullYear()%1e4,t,4)}function Oi(n,t){var e=n.getDay();return n=e>=4||e===0?bn(n):bn.ceil(n),Y(n.getFullYear()%1e4,t,4)}function zi(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Y(t/60|0,"0",2)+Y(t%60,"0",2)}function ae(n,t){return Y(n.getUTCDate(),t,2)}function Ei(n,t){return Y(n.getUTCHours(),t,2)}function qi(n,t){return Y(n.getUTCHours()%12||12,t,2)}function Bi(n,t){return Y(1+Ht.count(xn(n),n),t,3)}function Ye(n,t){return Y(n.getUTCMilliseconds(),t,3)}function ji(n,t){return Ye(n,t)+"000"}function Vi(n,t){return Y(n.getUTCMonth()+1,t,2)}function Zi(n,t){return Y(n.getUTCMinutes(),t,2)}function Gi(n,t){return Y(n.getUTCSeconds(),t,2)}function Qi(n){var t=n.getUTCDay();return t===0?7:t}function Xi(n,t){return Y(Ae.count(xn(n)-1,n),t,2)}function He(n){var t=n.getUTCDay();return t>=4||t===0?Dn(n):Dn.ceil(n)}function Ji(n,t){return n=He(n),Y(Dn.count(xn(n),n)+(xn(n).getUTCDay()===4),t,2)}function Ki(n){return n.getUTCDay()}function no(n,t){return Y(it.count(xn(n)-1,n),t,2)}function to(n,t){return Y(n.getUTCFullYear()%100,t,2)}function eo(n,t){return n=He(n),Y(n.getUTCFullYear()%100,t,2)}function ro(n,t){return Y(n.getUTCFullYear()%1e4,t,4)}function io(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Dn(n):Dn.ceil(n),Y(n.getUTCFullYear()%1e4,t,4)}function oo(){return"+0000"}function se(){return"%"}function le(n){return+n}function ce(n){return Math.floor(+n/1e3)}var Tn,Lt;uo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uo(n){return Tn=ui(n),Lt=Tn.format,Tn.parse,Tn.utcFormat,Tn.utcParse,Tn}function ao(n){return new Date(n)}function so(n){return n instanceof Date?+n:+new Date(+n)}function Le(n,t,e,r,i,o,u,a,l,s){var c=be(),h=c.invert,f=c.domain,g=s(".%L"),d=s(":%S"),x=s("%I:%M"),U=s("%I %p"),w=s("%a %d"),S=s("%b %d"),T=s("%B"),k=s("%Y");function $(y){return(l(y)<y?g:a(y)<y?d:u(y)<y?x:o(y)<y?U:r(y)<y?i(y)<y?w:S:e(y)<y?T:k)(y)}return c.invert=function(y){return new Date(h(y))},c.domain=function(y){return arguments.length?f(Array.from(y,so)):f().map(ao)},c.ticks=function(y){var C=f();return n(C[0],C[C.length-1],y??10)},c.tickFormat=function(y,C){return C==null?$:s(C)},c.nice=function(y){var C=f();return(!y||typeof y.range!="function")&&(y=t(C[0],C[C.length-1],y??10)),y?f(qr(C,y)):c},c.copy=function(){return Ue(c,Le(n,t,e,r,i,o,u,a,l,s))},c}function lo(){return ke.apply(Le(ii,oi,ln,lt,st,On,Yt,Nt,Cn,Lt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function co(){var n=0,t=1,e,r,i,o,u=mn,a=!1,l;function s(h){return h==null||isNaN(h=+h)?l:u(i===0?.5:(h=(o(h)-e)*i,a?Math.max(0,Math.min(1,h)):h))}s.domain=function(h){return arguments.length?([n,t]=h,e=o(n=+n),r=o(t=+t),i=e===r?0:1/(r-e),s):[n,t]},s.clamp=function(h){return arguments.length?(a=!!h,s):a},s.interpolator=function(h){return arguments.length?(u=h,s):u};function c(h){return function(f){var g,d;return arguments.length?([g,d]=f,u=h(g,d),s):[u(0),u(1)]}}return s.range=c(at),s.rangeRound=c(pe),s.unknown=function(h){return arguments.length?(l=h,s):l},function(h){return o=h,e=h(n),r=h(t),i=e===r?0:1/(r-e),s}}function fo(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Rt(){var n=De(co()(mn));return n.copy=function(){return fo(n,Rt())},Lr.apply(n,arguments)}var Re=we(yn(-100,.75,.35),yn(80,1.5,.8));we(yn(260,.75,.35),yn(80,1.5,.8));yn();function j(n){return function(){return n}}const fe=Math.abs,B=Math.atan2,$n=Math.cos,ho=Math.max,vt=Math.min,un=Math.sin,Sn=Math.sqrt,X=1e-12,In=Math.PI,ot=In/2,Qn=2*In;function go(n){return n>1?0:n<-1?In:Math.acos(n)}function he(n){return n>=1?ot:n<=-1?-ot:Math.asin(n)}function mo(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);t=r}return n},()=>new Tr(t)}function yo(n){return n.innerRadius}function vo(n){return n.outerRadius}function $o(n){return n.startAngle}function Mo(n){return n.endAngle}function po(n){return n&&n.padAngle}function xo(n,t,e,r,i,o,u,a){var l=e-n,s=r-t,c=u-i,h=a-o,f=h*l-c*s;if(!(f*f<X))return f=(c*(t-o)-h*(n-i))/f,[n+f*l,t+f*s]}function Bn(n,t,e,r,i,o,u){var a=n-e,l=t-r,s=(u?o:-o)/Sn(a*a+l*l),c=s*l,h=-s*a,f=n+c,g=t+h,d=e+c,x=r+h,U=(f+d)/2,w=(g+x)/2,S=d-f,T=x-g,k=S*S+T*T,$=i-o,y=f*x-d*g,C=(T<0?-1:1)*Sn(ho(0,$*$*k-y*y)),O=(y*T-S*C)/k,z=(-y*S-T*C)/k,I=(y*T+S*C)/k,_=(-y*S+T*C)/k,p=O-U,v=z-w,b=I-U,A=_-w;return p*p+v*v>b*b+A*A&&(O=I,z=_),{cx:O,cy:z,x01:-c,y01:-h,x11:O*(i/$-1),y11:z*(i/$-1)}}function wo(){var n=yo,t=vo,e=j(0),r=null,i=$o,o=Mo,u=po,a=null,l=mo(s);function s(){var c,h,f=+n.apply(this,arguments),g=+t.apply(this,arguments),d=i.apply(this,arguments)-ot,x=o.apply(this,arguments)-ot,U=fe(x-d),w=x>d;if(a||(a=c=l()),g<f&&(h=g,g=f,f=h),!(g>X))a.moveTo(0,0);else if(U>Qn-X)a.moveTo(g*$n(d),g*un(d)),a.arc(0,0,g,d,x,!w),f>X&&(a.moveTo(f*$n(x),f*un(x)),a.arc(0,0,f,x,d,w));else{var S=d,T=x,k=d,$=x,y=U,C=U,O=u.apply(this,arguments)/2,z=O>X&&(r?+r.apply(this,arguments):Sn(f*f+g*g)),I=vt(fe(g-f)/2,+e.apply(this,arguments)),_=I,p=I,v,b;if(z>X){var A=he(z/f*un(O)),D=he(z/g*un(O));(y-=A*2)>X?(A*=w?1:-1,k+=A,$-=A):(y=0,k=$=(d+x)/2),(C-=D*2)>X?(D*=w?1:-1,S+=D,T-=D):(C=0,S=T=(d+x)/2)}var P=g*$n(S),W=g*un(S),H=f*$n($),G=f*un($);if(I>X){var J=g*$n(T),gn=g*un(T),dn=f*$n(k),An=f*un(k),on;if(U<In)if(on=xo(P,W,dn,An,J,gn,H,G)){var Fn=P-on[0],Nn=W-on[1],Yn=J-on[0],M=gn-on[1],F=1/un(go((Fn*Yn+Nn*M)/(Sn(Fn*Fn+Nn*Nn)*Sn(Yn*Yn+M*M)))/2),N=Sn(on[0]*on[0]+on[1]*on[1]);_=vt(I,(f-N)/(F-1)),p=vt(I,(g-N)/(F+1))}else _=p=0}C>X?p>X?(v=Bn(dn,An,P,W,g,p,w),b=Bn(J,gn,H,G,g,p,w),a.moveTo(v.cx+v.x01,v.cy+v.y01),p<I?a.arc(v.cx,v.cy,p,B(v.y01,v.x01),B(b.y01,b.x01),!w):(a.arc(v.cx,v.cy,p,B(v.y01,v.x01),B(v.y11,v.x11),!w),a.arc(0,0,g,B(v.cy+v.y11,v.cx+v.x11),B(b.cy+b.y11,b.cx+b.x11),!w),a.arc(b.cx,b.cy,p,B(b.y11,b.x11),B(b.y01,b.x01),!w))):(a.moveTo(P,W),a.arc(0,0,g,S,T,!w)):a.moveTo(P,W),!(f>X)||!(y>X)?a.lineTo(H,G):_>X?(v=Bn(H,G,J,gn,f,-_,w),b=Bn(P,W,dn,An,f,-_,w),a.lineTo(v.cx+v.x01,v.cy+v.y01),_<I?a.arc(v.cx,v.cy,_,B(v.y01,v.x01),B(b.y01,b.x01),!w):(a.arc(v.cx,v.cy,_,B(v.y01,v.x01),B(v.y11,v.x11),!w),a.arc(0,0,f,B(v.cy+v.y11,v.cx+v.x11),B(b.cy+b.y11,b.cx+b.x11),w),a.arc(b.cx,b.cy,_,B(b.y11,b.x11),B(b.y01,b.x01),!w))):a.arc(0,0,f,$,k,w)}if(a.closePath(),c)return a=null,c+""||null}return s.centroid=function(){var c=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-In/2;return[$n(h)*c,un(h)*c]},s.innerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:j(+c),s):n},s.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:j(+c),s):t},s.cornerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:j(+c),s):e},s.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:j(+c),s):r},s.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:j(+c),s):i},s.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:j(+c),s):o},s.padAngle=function(c){return arguments.length?(u=typeof c=="function"?c:j(+c),s):u},s.context=function(c){return arguments.length?(a=c??null,s):a},s}function _o(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function To(n,t){return t<n?-1:t>n?1:t>=n?0:NaN}function Co(n){return n}function So(){var n=Co,t=To,e=null,r=j(0),i=j(Qn),o=j(0);function u(a){var l,s=(a=_o(a)).length,c,h,f=0,g=new Array(s),d=new Array(s),x=+r.apply(this,arguments),U=Math.min(Qn,Math.max(-Qn,i.apply(this,arguments)-x)),w,S=Math.min(Math.abs(U)/s,o.apply(this,arguments)),T=S*(U<0?-1:1),k;for(l=0;l<s;++l)(k=d[g[l]=l]=+n(a[l],l,a))>0&&(f+=k);for(t!=null?g.sort(function($,y){return t(d[$],d[y])}):e!=null&&g.sort(function($,y){return e(a[$],a[y])}),l=0,h=f?(U-s*T)/f:0;l<s;++l,x=w)c=g[l],k=d[c],w=x+(k>0?k*h:0)+T,d[c]={data:a[c],index:l,value:k,startAngle:x,endAngle:w,padAngle:S};return d}return u.value=function(a){return arguments.length?(n=typeof a=="function"?a:j(+a),u):n},u.sortValues=function(a){return arguments.length?(t=a,e=null,u):t},u.sort=function(a){return arguments.length?(e=a,t=null,u):e},u.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:j(+a),u):r},u.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:j(+a),u):i},u.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:j(+a),u):o},u}const ko=Z("<div><svg><g></g></svg><!$><!/>"),Uo=Z('<svg><path class="hover:scale-105 transition"></svg>',!1,!0),bo=Z('<div class="w-fit m-auto flex items-center gap-2 p-3"><div class="rounded-md w-5 aspect-square"></div><span><!$><!/> Amount: <!$><!/>');function Vo(n){const[t,e]=kn([]),[r,i]=kn(null),o=a=>{i(a)},u=()=>{i(null)};return Xn(()=>{const a=Math.min(n.width,n.height)/2-n.margin,l=Rt(Re).domain([0,n.data.length]),c=So().value(n.value)(n.data),h=wo().innerRadius(0).outerRadius(a);e(c.map((f,g)=>({path:h(f),data:f.data,color:l(g)})))}),(()=>{const a=V(ko),l=a.firstChild,s=l.firstChild,c=l.nextSibling,[h,f]=sn(c.nextSibling);return tn(s,an(kt,{get each(){return t()},children:g=>(()=>{const d=V(Uo);return d.$$mouseout=()=>u(),d.$$mouseover=()=>o(g),en(x=>{const U=g.path,w=g.color;return U!==x._v$4&&L(d,"d",x._v$4=U),w!==x._v$5&&L(d,"fill",x._v$5=w),x},{_v$4:void 0,_v$5:void 0}),jn(),d})()})),tn(a,an(Zn,{get when(){return r()},children:g=>(()=>{const d=V(bo),x=d.firstChild,U=x.nextSibling,w=U.firstChild,[S,T]=sn(w.nextSibling),k=S.nextSibling,$=k.nextSibling,[y,C]=sn($.nextSibling);return tn(U,()=>g().data[n.label],S,T),tn(U,()=>n.value(g().data),y,C),en(()=>g().color!=null?x.style.setProperty("background-color",g().color):x.style.removeProperty("background-color")),d})()}),h,f),en(g=>{const d=`width: ${n.width}; height: ${n.height}`,x=`0 0 ${n.width} ${n.height}`,U=`translate(${n.width/2},${n.height/2})`;return g._v$=me(a,d,g._v$),x!==g._v$2&&L(l,"viewBox",g._v$2=x),U!==g._v$3&&L(s,"transform",g._v$3=U),g},{_v$:void 0,_v$2:void 0,_v$3:void 0}),a})()}ge(["mouseover","mouseout"]);const Do=Z('<svg preserveAspectRatio="xMidYMid meet"xmlns=http://www.w3.org/2000/svg><!$><!/><!$><!/><!$><!/>'),Ao=Z("<svg><g fill=none font-size=10 font-family=sans-serif text-anchor=middle></svg>",!1,!0),Fo=Z("<svg><g fill=none font-size=10 font-family=sans-serif text-anchor=end></svg>",!1,!0);function No(n){const[t,e]=kn(null),[r,i]=kn(null),o=()=>(()=>{const l=V(Do),s=l.firstChild,[c,h]=sn(s.nextSibling),f=c.nextSibling,[g,d]=sn(f.nextSibling),x=g.nextSibling,[U,w]=sn(x.nextSibling);return tn(l,t,c,h),tn(l,r,g,d),tn(l,()=>n.children,U,w),en(S=>{const T=`-20 -10 ${n.width+20} ${n.height+40}`,k=n.width,$=n.height;return T!==S._v$&&L(l,"viewBox",S._v$=T),k!==S._v$2&&L(l,"width",S._v$2=k),$!==S._v$3&&L(l,"height",S._v$3=$),S},{_v$:void 0,_v$2:void 0,_v$3:void 0}),l})(),u=()=>$e(n.x).ticks(lt.every(.3),ln.every(.5)).tickFormat(Lt("%d %m %y"));Xn(()=>{e((()=>{const l=V(Ao);return en(()=>L(l,"transform",`translate(0,${n.height-n.mb})`)),l})()),_t(t()).call(u()).selectAll("text").attr("transform","translate(-42)rotate(-45)").attr("y",40)});const a=()=>n.ylabels&&Object.keys(n.ylabels).length>0?wt(n.y).tickFormat(l=>n.ylabels[l]??""):wt(n.y);return Xn(()=>{i((()=>{const l=V(Fo);return en(()=>L(l,"transform",`translate(${n.ml},0)`)),l})()),_t(r()).call(a())}),o()}const Yo=Z("<div><!$><!/><!$><!/>"),Ho=Z("<svg><rect></svg>",!1,!0),Lo=Z("<svg><line></svg>",!1,!0),Ro=Z("<svg><circle r=5 stroke-width=2></svg>",!1,!0),Wo=Z("<div class=p-3>..."),Po=Z('<div class="w-fit flex items-center gap-2 p-3"><div class="rounded-md w-5 aspect-square"></div><span>X: <!$><!/>; Y: <!$><!/>');function Zo(n){const[t,e]=Ve([]),{loaded:r,error:i,imgRef:o}=zn().signals,{data:u}=zn().stores;zn().signals.imgIndexSignal;const{addImg:a}=zn().functions;de(async()=>{await a(void 0,void 0,1,!0)});const l=20,s=20,c=30,h=40,f={mt:l,mb:c,ml:h,mr:s},g=()=>lo([h,n.width-s]).domain(er(u,$=>new Date($.x))),d=()=>tt().range([n.height-c,0]).domain([0,ar(u,$=>$.y)*1.2]),x=()=>n.mode==="verbal"&&u.reduce(($,y)=>($[y.y]=y.ylabel&&y.ylabel.toLowerCase(),$),{}),[U,w]=kn(null),S=($,y=!1)=>{w($),y||(e([$.id],"width",C=>C+12),e([$.id],"x",C=>C-6))},T=($,y=!1)=>{y||(e([$.id],"width",C=>C-12),e([$.id],"x",C=>C+6)),w(null)},k=$=>{a($.path,$.id)};return Xn(()=>{if(u.length>0){const $=Rt(Re).domain([0,u.length]);e(u.map((y,C)=>({x:g()(new Date(y.x)),y:d()(y.y),width:1.5,height:n.height-d()(y.y)-c,xlabel:new Date(y.x).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),ylabel:y.y,color:$(C),id:y.i,path:y.path})))}}),(()=>{const $=V(Yo),y=$.firstChild,[C,O]=sn(y.nextSibling),z=C.nextSibling,[I,_]=sn(z.nextSibling);return tn($,an(Zn,{get when(){return r[0]()},get fallback(){return an(Ze,{svg:!0})},get children(){return an(Zn,{get when(){return!i[0]()},get fallback(){return an(BasicError,{msg:"Impossibile caricare il grafico"})},get children(){return an(No,Ge(()=>Object.assign({},n,f,{x:g(),y:d(),ylabels:x()}),{get children(){return an(kt,{each:t,children:(p,v)=>[En((()=>{const b=En(()=>!n.nolines);return()=>b()&&(n.oblique?(()=>{const A=V(Lo);return A.$$click=()=>n.circle?{}:k(p),A.$$mouseout=()=>n.circle?{}:T(p),A.$$mouseover=()=>n.circle?{}:S(p),en(D=>{const P=v()-1>=0?t[v()-1].x:t[v()].x,W=t[v()-1]?t[v()-1].y:t[v()].y,H=p.x,G=p.y,J=`stroke:${p.color};stroke-width:${p.width}`;return P!==D._v$6&&L(A,"x1",D._v$6=P),W!==D._v$7&&L(A,"y1",D._v$7=W),H!==D._v$8&&L(A,"x2",D._v$8=H),G!==D._v$9&&L(A,"y2",D._v$9=G),D._v$10=me(A,J,D._v$10),D},{_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),jn(),A})():(()=>{const A=V(Ho);return A.$$click=()=>n.circle?{}:k(p),A.$$mouseout=()=>n.circle?{}:T(p),A.$$mouseover=()=>n.circle?{}:S(p),en(D=>{const P=p.x,W=p.y,H=p.width,G=p.height,J=p.color;return P!==D._v$&&L(A,"x",D._v$=P),W!==D._v$2&&L(A,"y",D._v$2=W),H!==D._v$3&&L(A,"width",D._v$3=H),G!==D._v$4&&L(A,"height",D._v$4=G),J!==D._v$5&&L(A,"fill",D._v$5=J),D},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),jn(),A})())})()),En((()=>{const b=En(()=>!!n.circle);return()=>b()&&(()=>{const A=V(Ro);return A.$$click=()=>k(p),A.$$mouseout=()=>T(p,!0),A.$$mouseover=()=>S(p,!0),en(D=>{const P=p.x,W=p.y,H=p.color;return P!==D._v$11&&L(A,"cx",D._v$11=P),W!==D._v$12&&L(A,"cy",D._v$12=W),H!==D._v$13&&L(A,"fill",D._v$13=H),D},{_v$11:void 0,_v$12:void 0,_v$13:void 0}),jn(),A})()})())]})}}))}})}}),C,O),tn($,an(Zn,{get when(){return U()},get fallback(){return V(Wo)},children:p=>(()=>{const v=V(Po),b=v.firstChild,A=b.nextSibling,D=A.firstChild,P=D.nextSibling,[W,H]=sn(P.nextSibling),G=W.nextSibling,J=G.nextSibling,[gn,dn]=sn(J.nextSibling);return tn(A,()=>p().xlabel,W,H),tn(A,()=>p().ylabel,gn,dn),en(()=>p().color!=null?b.style.setProperty("background-color",p().color):b.style.removeProperty("background-color")),v})()}),I,_),$})()}ge(["mouseover","mouseout","click"]);const Io=Z("<svg>"),Oo=Z("<svg><g class=axis></svg>",!1,!0),zo=Z("<svg><line stroke=black></svg>",!1,!0);function Go(n){const[t,e]=kn(null);let r=tt().rangeRound([0,n.width]),i=tt().rangeRound([n.height,0]),o=$e(r),u=wt(i);return de(()=>{_t(t())}),(()=>{const a=V(Io),l=svg;return typeof l=="function"?We(l,a):svg=a,tn(a,an(kt,{each:[o,u],children:s=>(()=>{const c=V(Oo);return tn(c,()=>s.map((h,f)=>(()=>{const g=V(zo);return en(d=>{const x=h.x1,U=h.y1,w=h.x2,S=h.y2;return x!==d._v$&&L(g,"x1",d._v$=x),U!==d._v$2&&L(g,"y1",d._v$2=U),w!==d._v$3&&L(g,"x2",d._v$3=w),S!==d._v$4&&L(g,"y2",d._v$4=S),d},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),g})())),en(()=>L(c,"transform",s===o?`translate(0,${n.height})`:"")),c})()})),en(()=>L(a,"viewBox",`0 0 ${n.width} ${n.height}`)),a})()}export{Zo as BarChart,No as BaseChart,Go as LollipopChart,Vo as PieChart};
